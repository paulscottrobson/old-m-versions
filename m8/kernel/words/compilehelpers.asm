; ********************************************************************************************************
; ********************************************************************************************************
;
;		Name : 		compilehelpers.asm
;		Author : 	Paul Robson (paul@robsons.org.uk)
;		Purpose : 	Compile helper routines
;		Date : 		7th September 2018
;
; ********************************************************************************************************
; ********************************************************************************************************

; ********************************************************************************************************
;
;								Code Generating Words
;
; ********************************************************************************************************

; ========================================================================================================
;								Compile A as a Byte
; ========================================================================================================

; @word c, 

		ld 		a,l
		jp 		CompileByte

; ========================================================================================================
;								Compile A as a word
; ========================================================================================================

; @word ,

		jp 		CompileWord

; @word a,

; ********************************************************************************************************
;						Compile A as a byte $00-$FF or word $0100-$FFFF (for assembly)
; ********************************************************************************************************

		ld 		a,h
		or 		a
		call 	nz,CompileByte
		ld 		a,l
		jp 		CompileByte
		
; ********************************************************************************************************
;								Definition modifiers
; ********************************************************************************************************

; ========================================================================================================
;	Clears the default create, so all new definitions are standard M8 words
; ========================================================================================================

; @word mwords

		xor 	a
		jp 		SetDefaultCreateBits

; ========================================================================================================
;		Sets bit 7 on creating new entry, so all new definitions are macros
; ========================================================================================================

; @word macros 

		ld 		a,$80
		jp 		SetDefaultCreateBits

; ========================================================================================================
;		Makes the last declared word private
; ========================================================================================================

; @word private macro
; @word make.private 

MakePrivate:
		ld 		a,$40
		jp 		SetLastEntryBit

; ========================================================================================================
;		Block Compile/Execute from A to B
; ========================================================================================================

; @word do.source
		jp 		CompileBlock


;
;	There are two versions of this. One is used for normal inline green code
;	the other (make.private) is used when constructing things like variables that
; 	you want to be private
;

;